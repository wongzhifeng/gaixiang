# Zeabur 部署配置 - 街巷社区互助平台（前端）

# 构建配置
build:
  # 使用专门的 Dockerfile
  dockerfile: Dockerfile
  context: .

# 环境变量配置
env:
  # 后端 API URL - 部署后需要配置
  NEXT_PUBLIC_API_URL: ${{ secrets.NEXT_PUBLIC_API_URL }}

  # 应用配置
  NODE_ENV: production

  # 跳过构建检查
  NEXT_TYPESCRIPT_IGNORE_BUILD_ERRORS: true
  NEXT_ESLINT_IGNORE_BUILD_ERRORS: true

# 资源分配
resources:
  cpu: 0.5
  memory: 512Mi

# 健康检查
healthCheck:
  path: /
  port: 8080
  initialDelay: 30
  period: 10

# 端口配置
ports:
  - port: 8080
    protocol: HTTP